# Workflow: CollectResults

Retrieve and display summarized results from Goose agents.

## Step 1: Check Agent Status

First verify the agent has completed:

```bash
bun ~/.claude/skills/Goose/Tools/AgentStatus.ts --id <agent-id>
```

If still running, either:
- Wait: `bun ~/.claude/skills/Goose/Tools/AgentStatus.ts --wait --id <agent-id>`
- Continue other work and check back later

## Step 2: Ensure Summarization

Summaries are auto-generated by PostToolUse hook. To manually trigger:

```bash
# Process all unsummarized agents
bun ~/.claude/skills/Goose/Tools/CheckAndSummarize.ts

# Force re-summarize specific agent
bun ~/.claude/skills/Goose/Tools/CheckAndSummarize.ts --force <agent-id>
```

## Step 3: Collect Results

Retrieve structured results:

```bash
# Get specific agent results
bun ~/.claude/skills/Goose/Tools/CollectResults.ts --id <agent-id>

# Get results by recipe type
bun ~/.claude/skills/Goose/Tools/CollectResults.ts --recipe code-reviewer

# Get recent results
bun ~/.claude/skills/Goose/Tools/CollectResults.ts --recent 5

# Get all results as JSON
bun ~/.claude/skills/Goose/Tools/CollectResults.ts --all --json
```

## Step 4: Report to User

Present the structured summary:

| Field | Description |
|-------|-------------|
| status | SUCCESS, FAILURE, or PARTIAL |
| keyFindings | Main discoveries (up to 5) |
| actions | What the agent did (up to 3) |
| recommendations | Suggested next steps (up to 3) |
| errors | Any errors encountered |

## Notes

- Summaries use Claude Haiku if ANTHROPIC_API_KEY is set
- Falls back to regex extraction otherwise
- Raw logs available in `skills/Goose/gooshistory/`
